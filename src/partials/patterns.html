<div class="edit-tab-with-sidemenu">
    <aside class="edit-sidemenu-aside">
        <ul class="edit-sidemenu">
            <li ng-repeat="pattern in ctrl.panel.patterns" ng-class="{active: ctrl.panel.activePatternIndex === $index}">
                <a ng-click="ctrl.panel.activePatternIndex = $index">{{pattern.pattern || 'Default'}}</a>
            </li>
            <li ng-class="{active: ctrl.panel.activePatternIndex === -1}">
                <a ng-click="ctrl.panel.activePatternIndex = -1">Default</a>
            </li>
            <li>
                <a class="pointer" ng-click="ctrl.addPattern()">
                    <i class="fa fa-plus"></i>&nbsp;Add
                </a>
            </li>
        </ul>
    </aside>
    <div class="edit-tab-content" ng-repeat="pattern in ctrl.panel.patterns" ng-if="ctrl.panel.activePatternIndex === $index">
        <h5 class="section-heading">Pattern</h5>
        <div class="gr-form-inline">
            <div class="gf-form">
                <label class="gf-form-label width-13">Pattern</label>
                <input type="text" placeholder="Regex" class="gf-form-input width-18" ng-model="pattern.pattern" bs-tooltip="'Specify regex using /my.*regex/ syntax'"
                    ng-blur="ctrl.render()" data-ng-change="ctrl.render();">
            </div>
        </div>
        <div class="gr-form-inline">
            <div class="gf-form">
                <label class="gf-form-label width-13">Delimiter</label>
                <input type="text" placeholder="Delimiter" class="gf-form-input width-4" ng-model="pattern.delimiter" bs-tooltip="'Delimiter to seperate metrics row and col'"
                    ng-blur="ctrl.render()">
            </div>
        </div>
        <div class="gr-form-inline">
            <div class="gf-form">
                <label class="gf-form-label width-13">Stat</label>
                <select class="gf-form-input width-18" ng-model="pattern.valueName" ng-options="f.value as f.text for f in ctrl.valueNameOptions"
                    ng-change="ctrl.render()"></select>
            </div>
        </div>
        <br/>
        <br/>
        <button class="btn btn-danger btn-small" ng-if="pattern.pattern !== undefined" ng-click="ctrl.removePattern($index)">
            <i class="fa fa-trash"></i> Remove this pattern
        </button>
    </div>
    <div class="edit-tab-content" ng-if="ctrl.panel.activePatternIndex === -1">
        <h5 class="section-heading">Pattern</h5>
        <div class="gr-form-inline">
            <div class="gf-form">
                <label class="gf-form-label width-13">Pattern</label>
                <label class="gf-form-label width-18">*</label>
            </div>
        </div>
        <div class="gr-form-inline">
            <div class="gf-form">
                <label class="gf-form-label width-13">Delimiter</label>
                <input type="text" placeholder="Delimiter" class="gf-form-input width-4" ng-model="ctrl.panel.defaultPattern.delimiter" bs-tooltip="'Delimiter to seperate metrics row and col'"
                    ng-blur="ctrl.render()">
            </div>
        </div>
        <div class="gr-form-inline">
            <div class="gf-form">
                <label class="gf-form-label width-13">Stat</label>
                <select class="gf-form-input width-18" ng-model="ctrl.panel.defaultPattern.valueName" ng-options="f.value as f.text for f in ctrl.valueNameOptions"
                    ng-change="ctrl.render()"></select>
            </div>
        </div>
    </div>
</div>