<div class="edit-tab-with-sidemenu">
    <aside class="edit-sidemenu-aside">
        <ul class="edit-sidemenu">
            <li ng-repeat="pattern in ctrl.panel.patterns" ng-class="{active: ctrl.panel.activePatternIndex === $index}">
                <a ng-click="ctrl.panel.activePatternIndex = $index">{{pattern.pattern || 'Default'}}</a>
            </li>
            <li ng-class="{active: ctrl.panel.activePatternIndex === -1}">
                <a ng-click="ctrl.panel.activePatternIndex = -1">Default</a>
            </li>
            <li>
                <a class="pointer" ng-click="ctrl.addPattern()">
                    <i class="fa fa-plus"></i>&nbsp;Add
                </a>
            </li>
        </ul>
    </aside>
    <div class="edit-tab-content" ng-repeat="pattern in ctrl.panel.patterns" ng-if="ctrl.panel.activePatternIndex === $index">
        <div class="editor-row">
            <div class="section gf-form-group">
                <h5 class="section-heading">Pattern</h5>
                <div class="gr-form-inline">
                    <div class="gf-form">
                        <label class="gf-form-label width-13">Pattern</label>
                        <input type="text" placeholder="Regex" class="gf-form-input width-18" ng-model="pattern.pattern" bs-tooltip="'Specify regex using /my.*regex/ syntax'"
                            ng-blur="ctrl.render()" data-ng-change="ctrl.render();">
                    </div>
                </div>
                <div class="gr-form-inline">
                    <div class="gf-form">
                        <label class="gf-form-label width-13">Delimiter</label>
                        <input type="text" placeholder="Delimiter" class="gf-form-input width-4" ng-model="pattern.delimiter" bs-tooltip="'Delimiter to seperate metrics row and col'"
                            ng-blur="ctrl.render()">
                    </div>
                </div>
                <div class="gr-form-inline">
                    <div class="gf-form">
                        <label class="gf-form-label width-13">Stat</label>
                        <select class="gf-form-input width-18" ng-model="pattern.valueName" ng-options="f.value as f.text for f in ctrl.valueNameOptions"
                            ng-change="ctrl.render()"></select>
                    </div>
                </div>
                <div class="gr-form-inline">
                    <div class="gf-form">
                        <label class="gf-form-label width-13">Row Name</label>
                        <input type="text" placeholder="Row Name" class="gf-form-input width-18" ng-model="pattern.row_name" bs-tooltip="'Index of row'"
                            ng-blur="ctrl.render()">
                    </div>
                </div>
                <div class="gr-form-inline">
                    <div class="gf-form">
                        <label class="gf-form-label width-13">Col Name</label>
                        <input type="text" placeholder="Col Name" class="gf-form-input width-18" ng-model="pattern.col_name" bs-tooltip="'Index of col'"
                            ng-blur="ctrl.render()">
                    </div>
                </div>
            </div>
            <div class="section gf-form-group">
                <h5 class="section-heading">Thresholds</h5>
                <div class="gr-form-inline">
                    <div class="gf-form">
                        <label class="gf-form-label width-13">Thresholds</label>
                        <input type="text" placeholder="Thresholds" class="gf-form-input width-18" ng-model="pattern.thresholds" bs-tooltip="'Comma seperated thresholds'"
                            ng-blur="ctrl.render()" data-ng-change="ctrl.render();">
                    </div>
                </div>
                <div class="gr-form-inline">
                    <div class="gf-form">
                        <label class="gf-form-label width-13">Enable BG Color?</label>
                        <input type="checkbox" class="gf-form-input width-4" ng-model="pattern.enable_bgColor" ng-blur="ctrl.render()" ng-change="ctrl.render()">
                    </div>
                </div>
                <div class="gr-form-inline" data-ng-if="pattern.enable_bgColor">
                    <div class="gf-form">
                        <label class="gf-form-label width-13">BG Colors</label>
                        <input type="text" placeholder="green|orange|red" class="gf-form-input width-18" ng-model="pattern.bgColors" bs-tooltip="'BG Colors seperated by | (pipe)'"
                            ng-blur="ctrl.render()" data-ng-change="ctrl.render();">
                    </div>
                </div>
            </div>
        </div>
        <div class="editor-row">
            <button class="btn btn-danger btn-small" ng-if="pattern.pattern !== undefined" ng-click="ctrl.removePattern($index)">
                <i class="fa fa-trash"></i> Remove this pattern
            </button>
        </div>
    </div>
    <div class="edit-tab-content" ng-if="ctrl.panel.activePatternIndex === -1">
        <div class="editor-row">
            <div class="section gf-form-group">
                <h5 class="section-heading">Pattern</h5>
                <div class="gr-form-inline">
                    <div class="gf-form">
                        <label class="gf-form-label width-13">Pattern</label>
                        <label class="gf-form-label width-18">*</label>
                    </div>
                </div>
                <div class="gr-form-inline">
                    <div class="gf-form">
                        <label class="gf-form-label width-13">Delimiter</label>
                        <input type="text" placeholder="Delimiter" class="gf-form-input width-4" ng-model="ctrl.panel.defaultPattern.delimiter" bs-tooltip="'Delimiter to seperate metrics row and col'"
                            ng-blur="ctrl.render()">
                    </div>
                </div>
                <div class="gr-form-inline">
                    <div class="gf-form">
                        <label class="gf-form-label width-13">Stat</label>
                        <select class="gf-form-input width-18" ng-model="ctrl.panel.defaultPattern.valueName" ng-options="f.value as f.text for f in ctrl.valueNameOptions"
                            ng-change="ctrl.render()"></select>
                    </div>
                </div>
                <div class="gr-form-inline">
                    <div class="gf-form">
                        <label class="gf-form-label width-13">Row Name</label>
                        <input type="text" placeholder="Row Index" class="gf-form-input width-18" ng-model="ctrl.panel.defaultPattern.row_name" bs-tooltip="'Example : represent coloumn 2 as _2_'"
                            ng-blur="ctrl.render()">
                    </div>
                </div>
                <div class="gr-form-inline">
                    <div class="gf-form">
                        <label class="gf-form-label width-13">Col Name</label>
                        <input type="text" placeholder="Col Index" class="gf-form-input width-18" ng-model="ctrl.panel.defaultPattern.col_name" bs-tooltip="'Example : represent coloumn 2 as _2_'"
                            ng-blur="ctrl.render()">
                    </div>
                </div>
            </div>
            <div class="section gf-form-group">
                <h5 class="section-heading">Thresholds</h5>
                <div class="gr-form-inline">
                    <div class="gf-form">
                        <label class="gf-form-label width-13">Threshold</label>
                        <input type="text" placeholder="Thresholds" class="gf-form-input width-18" ng-model="ctrl.panel.defaultPattern.thresholds"
                            bs-tooltip="'Comma seperated thresholds'" ng-blur="ctrl.render()" data-ng-change="ctrl.render();">
                    </div>
                </div>
                <div class="gr-form-inline">
                    <div class="gf-form">
                        <label class="gf-form-label width-13">Enable BG Color?</label>
                        <input type="checkbox" class="gf-form-input width-4" ng-model="ctrl.panel.defaultPattern.enable_bgColor" ng-blur="ctrl.render()"
                            ng-change="ctrl.render()">
                    </div>
                </div>
                <div class="gr-form-inline" data-ng-if="ctrl.panel.defaultPattern.enable_bgColor">
                    <div class="gf-form">
                        <label class="gf-form-label width-13">BG Colors</label>
                        <input type="text" placeholder="green|orange|red" class="gf-form-input width-18" ng-model="ctrl.panel.defaultPattern.bgColors" bs-tooltip="'BG Colors seperated by | (pipe)'"
                            ng-blur="ctrl.render()" data-ng-change="ctrl.render();">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>