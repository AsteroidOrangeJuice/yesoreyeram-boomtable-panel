/*! 
Plugin Name : Boom Table
Plugin ID : yesoreyeram-boomtable-panel
Plugin URL : https://github.com/yesoreyeram/yesoreyeram-boomtable-panel
Plugin Author : Sriramajeyam Sugumaran https://www.google.com/search?q=Sriramajeyam+Sugumaran
Plugin Version : v0.6.0
*/
System.register(["lodash"],function(exports_1,context_1){"use strict";var lodash_1,COLORS,hasDuplicates,isUniqueArray,getFields,getUniqueFields,normalizeColor,getActualNameWithoutTransformSign,buildError,replaceFontAwesomeIcons,replaceWithImages,getDecimalsForValue,buildOptionOverride;context_1&&context_1.id;return{setters:[function(lodash_1_1){lodash_1=lodash_1_1}],execute:function(){COLORS={GREEN:"rgba(50, 172, 45, 0.97)",ORANGE:"rgba(237, 129, 40, 0.89)",RED:"rgba(245, 54, 54, 0.9)"},exports_1("COLORS",COLORS),hasDuplicates=function(array){return array.length!==lodash_1["default"].uniq(array).length},exports_1("hasDuplicates",hasDuplicates),exports_1("isDuplicateArray",hasDuplicates),isUniqueArray=function(array){return!hasDuplicates(array)},exports_1("isUniqueArray",isUniqueArray),getFields=function(collection,field){return lodash_1["default"].map(collection,function(d){return d[String(field)]})},exports_1("getFields",getFields),getUniqueFields=function(collection,field){return lodash_1["default"].uniq(lodash_1["default"].map(collection,function(d){return d[String(field)]}))},exports_1("getUniqueFields",getUniqueFields),normalizeColor=function(color){switch(color=(color||"").toLowerCase().trim()){case"green":return COLORS.GREEN;case"orange":return COLORS.ORANGE;case"red":return COLORS.RED;default:return color}},exports_1("normalizeColor",normalizeColor),getActualNameWithoutTransformSign=function(value){return(value+"").split(" ").map(function(a){return a.startsWith("_fa-")&&a.endsWith("_")&&(a=""),a.startsWith("_img-")&&a.endsWith("_")&&(a=""),a}).join(" ")},exports_1("getActualNameWithoutTransformSign",getActualNameWithoutTransformSign),buildError=function(errorTitle,errorMessage){var err=new Error;return err.name=String(errorTitle),err.message=String(errorMessage),err},exports_1("buildError",buildError),replaceFontAwesomeIcons=function(value){return value?(value+"").split(" ").map(function(a){if(a.startsWith("_fa-")&&a.endsWith("_")){var icon=a.replace(/\_/g,"").split(",")[0],color=a.indexOf(",")>-1?'style="color:'+normalizeColor(a.replace(/\_/g,"").split(",")[1])+'"':"",repeatCount=a.split(",").length>2?+a.replace(/\_/g,"").split(",")[2]:1;a=('<i class="fa '+icon+'" '+color+"></i> ").repeat(repeatCount)}return a}).join(" "):value},exports_1("replaceFontAwesomeIcons",replaceFontAwesomeIcons),replaceWithImages=function(value){return value?(value+"").split(" ").map(function(a){if(a.startsWith("_img-")&&a.endsWith("_")){a=a.slice(0,-1);var imgUrl=a.replace("_img-","").split(",")[0],imgWidth=a.split(",").length>1?a.replace("_img-","").split(",")[1]:"20px",imgHeight=a.split(",").length>2?a.replace("_img-","").split(",")[2]:"20px",repeatCount=a.split(",").length>3?+a.replace("_img-","").split(",")[3]:1;a=('<img width="'+imgWidth+'" height="'+imgHeight+'" src="'+imgUrl+'"/>').repeat(repeatCount)}return a}).join(" "):value},exports_1("replaceWithImages",replaceWithImages),getDecimalsForValue=function(value,_decimals){if(lodash_1["default"].isNumber(+_decimals)){var o={decimals:_decimals,scaledDecimals:null};return o}var size,delta=value/2,dec=-Math.floor(Math.log(delta)/Math.LN10),magn=Math.pow(10,-dec),norm=delta/magn;norm<1.5?size=1:norm<3?(size=2,norm>2.25&&(size=2.5,++dec)):size=norm<7.5?5:10,size*=magn,Math.floor(value)===value&&(dec=0);var result={decimals:Math.max(0,dec),scaledDecimals:Math.max(0,dec)-Math.floor(Math.log(size)/Math.LN10)+2};return result},exports_1("getDecimalsForValue",getDecimalsForValue),buildOptionOverride=function(o,i){return{text:String(o[0]),propertyName:String(o[1]),index:i,defaultValue:String(o[3]),values:[].concat(o[2]).map(function(value){return String[value]}),submenu:[].concat(o[2]).map(function(value){return{text:String(value),value:value}})}},exports_1("buildOptionOverride",buildOptionOverride)}}});