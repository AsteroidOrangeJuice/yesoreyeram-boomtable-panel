System.register(["lodash", "app/core/utils/kbn", "app/core/time_series2", "./utils"], function (exports_1, context_1) {
    "use strict";
    var lodash_1, kbn_1, time_series2_1, utils, ___transformValue, ___computeColorFromThresholds, defaultHandler, computeServerTimestamp, assignPattern, assignRowName, assignColName, assignDecimals, transformValue, transformValueOverrides, assignBGColors, assignTextColors, applyBGColorOverrides, applyTextColorOverrides, applyFontAwesomeIcons, applyImageTransform, assignClickableLinks, assignRowColKey, assignThresholds, assignValue, assignTooltipTemplate, filterValues, getFilteredSeries, compute;
    var __moduleName = context_1 && context_1.id;
    return {
        setters: [
            function (lodash_1_1) {
                lodash_1 = lodash_1_1;
            },
            function (kbn_1_1) {
                kbn_1 = kbn_1_1;
            },
            function (time_series2_1_1) {
                time_series2_1 = time_series2_1_1;
            },
            function (utils_1) {
                utils = utils_1;
            }
        ],
        execute: function () {
            ___transformValue = function (thresholds, transform_values, value, displayValue, row_name, col_name) {
                var t = value;
                if (thresholds && transform_values && typeof value === "number" && thresholds.length + 1 <= transform_values.length) {
                    transform_values = lodash_1.default.dropRight(transform_values, transform_values.length - thresholds.length - 1);
                    if (transform_values[transform_values.length - 1] === "") {
                        transform_values[transform_values.length - 1] = "_value_";
                    }
                    for (var i = thresholds.length; i > 0; i--) {
                        if (value >= thresholds[i - 1]) {
                            var o_1 = transform_values[i];
                            o_1 = o_1.replace(new RegExp("_value_", "g"), String(displayValue));
                            o_1 = o_1.replace(new RegExp("_row_name_", "g"), String(row_name));
                            o_1 = o_1.replace(new RegExp("_col_name_", "g"), String(col_name));
                            return o_1;
                        }
                    }
                    var o = lodash_1.default.first(transform_values) || "";
                    o = o.replace(new RegExp("_value_", "g"), String(displayValue));
                    o = o.replace(new RegExp("_row_name_", "g"), String(row_name));
                    o = o.replace(new RegExp("_col_name_", "g"), String(col_name));
                    return o;
                }
                return String(t);
            };
            ___computeColorFromThresholds = function (thresholds, bgColors, value, defaultColor) {
                var c = defaultColor;
                if (thresholds && bgColors && typeof value === "number" && thresholds.length + 1 <= bgColors.length) {
                    bgColors = lodash_1.default.dropRight(bgColors, bgColors.length - thresholds.length - 1);
                    if (bgColors[bgColors.length - 1] === "") {
                        bgColors[bgColors.length - 1] = defaultColor;
                    }
                    for (var i = thresholds.length; i > 0; i--) {
                        if (value >= thresholds[i - 1]) {
                            return utils.normalizeColor(bgColors[i]);
                        }
                    }
                    return utils.normalizeColor(lodash_1.default.first(bgColors));
                }
                return c;
            };
            defaultHandler = function (seriesData) {
                var series = new time_series2_1.default({
                    datapoints: seriesData.datapoints || [],
                    alias: seriesData.target
                });
                series.flotpairs = series.getFlotPairs("connected");
                return series;
            };
            exports_1("defaultHandler", defaultHandler);
            computeServerTimestamp = function (series) {
                series.current_servertimestamp = new Date();
                if (series && series.datapoints && series.datapoints.length > 0) {
                    if (lodash_1.default.last(series.datapoints).length === 2) {
                        series.current_servertimestamp = new Date(lodash_1.default.last(series.datapoints)[1]);
                    }
                }
                return series;
            };
            exports_1("computeServerTimestamp", computeServerTimestamp);
            assignPattern = function (series, patterns, defaultPattern) {
                series.pattern = lodash_1.default.find(patterns.filter(function (p) { return p.disabled !== true; }), function (p) {
                    return series.alias.match(p.pattern);
                });
                if (series.pattern === undefined) {
                    series.pattern = defaultPattern;
                }
                return series;
            };
            exports_1("assignPattern", assignPattern);
            assignRowName = function (series, defaultPattern, row_col_wrapper) {
                series.row_name = series.alias.split(String(series.pattern.delimiter) || ".").reduce(function (r, it, i) {
                    return r.replace(new RegExp(String(row_col_wrapper) + i + String(row_col_wrapper), "g"), it);
                }, series.pattern.row_name.replace(new RegExp(row_col_wrapper + "series" + row_col_wrapper, "g"), String(series.alias)) || defaultPattern.row_name.replace(new RegExp(row_col_wrapper + "series" + row_col_wrapper, "g"), String(series.alias)));
                if (series.alias.split(String(series.pattern.delimiter) || ".").length === 1) {
                    series.row_name = series.alias;
                }
                return series;
            };
            exports_1("assignRowName", assignRowName);
            assignColName = function (series, defaultPattern, row_col_wrapper) {
                series.col_name = series.alias.split(String(series.pattern.delimiter) || ".").reduce(function (r, it, i) {
                    return r.replace(new RegExp(String(row_col_wrapper) + i + String(row_col_wrapper), "g"), it);
                }, series.pattern.col_name || defaultPattern.col_name);
                if (series.alias.split(String(series.pattern.delimiter) || ".").length === 1 || series.row_name === series.alias) {
                    series.col_name = series.pattern.col_name || "Value";
                }
                return series;
            };
            exports_1("assignColName", assignColName);
            assignDecimals = function (series, defaultPattern) {
                series.decimals = (series.pattern.decimals) || defaultPattern.decimals;
                return series;
            };
            exports_1("assignDecimals", assignDecimals);
            transformValue = function (series, defaultPattern) {
                series.enable_transform = series.pattern.enable_transform;
                series.transform_values = (series.pattern.transform_values || defaultPattern.transform_values).split("|");
                series.displayValue = series.enable_transform === true ? ___transformValue(series.thresholds, series.transform_values, series.value, series.displayValue, series.row_name, series.col_name) : series.displayValue;
                if (series.displayValue === (series.pattern.null_value || defaultPattern.null_value || "Null")) {
                    series.displayValue = series.pattern.null_value || defaultPattern.null_value;
                }
                else if (isNaN(series.value)) {
                    series.displayValue = series.pattern.null_value || defaultPattern.null_value;
                }
                return series;
            };
            exports_1("transformValue", transformValue);
            transformValueOverrides = function (series) {
                series.enable_transform_overrides = series.pattern.enable_transform_overrides;
                series.transform_values_overrides = series.pattern.transform_values_overrides || "";
                if (series.enable_transform_overrides && series.transform_values_overrides !== "") {
                    var _transform_values_overrides = series.transform_values_overrides.split("|").filter(function (con) { return con.indexOf("->") > -1; }).map(function (con) { return con.split("->"); }).filter(function (con) { return +(con[0]) === series.value; }).map(function (con) { return con[1]; });
                    if (_transform_values_overrides.length > 0 && _transform_values_overrides[0] !== "") {
                        series.displayValue = ("" + _transform_values_overrides[0]).trim().replace(new RegExp("_value_", "g"), String(series.displayValue)).replace(new RegExp("_row_name_", "g"), String(series.row_name)).replace(new RegExp("_col_name_", "g"), String(series.col_name));
                    }
                }
                return series;
            };
            exports_1("transformValueOverrides", transformValueOverrides);
            assignBGColors = function (series, defaultPattern) {
                series.enable_bgColor = series.pattern.enable_bgColor;
                series.bgColors = (series.pattern.bgColors || defaultPattern.bgColors || "").split("|");
                series.bgColor = series.enable_bgColor === true ? ___computeColorFromThresholds(series.thresholds, series.bgColors, series.value, "transparent") : "transparent";
                if (series.displayValue === (series.pattern.null_value || defaultPattern.null_value || "Null")) {
                    series.bgColor = series.pattern.null_color || defaultPattern.null_color || "transparent";
                }
                return series;
            };
            exports_1("assignBGColors", assignBGColors);
            assignTextColors = function (series, defaultPattern) {
                series.enable_TextColors = series.pattern.enable_TextColors;
                series.textColors = (series.pattern.textColors || defaultPattern.textColors || "").split("|");
                series.textColor = series.enable_TextColors === true ? ___computeColorFromThresholds(series.thresholds, series.textColors, series.value, "white") : "white";
                if (series.displayValue === (series.pattern.null_value || defaultPattern.null_value || "Null")) {
                    series.textColor = series.pattern.null_text_color || defaultPattern.null_text_color || "white";
                }
                return series;
            };
            applyBGColorOverrides = function (series) {
                series.enable_bgColor_overrides = series.pattern.enable_bgColor_overrides;
                series.bgColors_overrides = series.pattern.bgColors_overrides || "";
                if (series.enable_bgColor_overrides && series.bgColors_overrides !== "") {
                    var _bgColors_overrides = series.bgColors_overrides.split("|").filter(function (con) { return con.indexOf("->") > -1; }).map(function (con) { return con.split("->"); }).filter(function (con) { return +(con[0]) === series.value; }).map(function (con) { return con[1]; });
                    if (_bgColors_overrides.length > 0 && _bgColors_overrides[0] !== "") {
                        series.bgColor = utils.normalizeColor(("" + _bgColors_overrides[0]).trim());
                    }
                }
                return series;
            };
            exports_1("applyBGColorOverrides", applyBGColorOverrides);
            applyTextColorOverrides = function (series) {
                series.enable_TextColor_overrides = series.pattern.enable_TextColor_overrides;
                series.textColors_overrides = series.pattern.textColors_overrides || "";
                if (series.enable_TextColor_overrides && series.textColors_overrides !== "") {
                    var _textColors_overrides = series.textColors_overrides.split("|").filter(function (con) { return con.indexOf("->") > -1; }).map(function (con) { return con.split("->"); }).filter(function (con) { return +(con[0]) === series.value; }).map(function (con) { return con[1]; });
                    if (_textColors_overrides.length > 0 && _textColors_overrides[0] !== "") {
                        series.textColor = utils.normalizeColor(("" + _textColors_overrides[0]).trim());
                    }
                }
                return series;
            };
            applyFontAwesomeIcons = function (series) {
                series.actual_displayvalue = series.displayValue;
                series.actual_row_name = series.row_name;
                series.actual_col_name = series.col_name;
                if (series.displayValue && series.displayValue.indexOf("_fa-") > -1) {
                    series.displayValue = utils.replaceFontAwesomeIcons(series.displayValue);
                }
                if (series.row_name && series.row_name.indexOf("_fa-") > -1) {
                    series.row_name = utils.replaceFontAwesomeIcons(series.row_name);
                }
                if (series.col_name && series.col_name.indexOf("_fa-") > -1) {
                    series.col_name = utils.replaceFontAwesomeIcons(series.col_name);
                }
                return series;
            };
            exports_1("applyFontAwesomeIcons", applyFontAwesomeIcons);
            applyImageTransform = function (series) {
                if (series.displayValue && series.displayValue.indexOf("_img-") > -1) {
                    series.displayValue = utils.replaceWithImages(series.displayValue);
                }
                if (series.row_name && series.row_name.indexOf("_img-") > -1) {
                    series.row_name = utils.replaceWithImages(series.row_name);
                }
                if (series.col_name && series.col_name.indexOf("_img-") > -1) {
                    series.col_name = utils.replaceWithImages(series.col_name);
                }
                return series;
            };
            exports_1("applyImageTransform", applyImageTransform);
            assignClickableLinks = function (series) {
                if (series.pattern.enable_clickable_cells) {
                    var targetLink = series.pattern.clickable_cells_link || "#";
                    targetLink = targetLink.replace(new RegExp("_row_name_", "g"), utils.getActualNameWithoutTransformSign(series.actual_row_name).trim());
                    targetLink = targetLink.replace(new RegExp("_col_name_", "g"), utils.getActualNameWithoutTransformSign(series.actual_col_name).trim());
                    targetLink = targetLink.replace(new RegExp("_value_", "g"), utils.getActualNameWithoutTransformSign(series.value).trim());
                    series.displayValue = "<a href=\"" + targetLink + "\" target=\"_blank\">" + series.displayValue + "</a>";
                }
                return series;
            };
            exports_1("assignClickableLinks", assignClickableLinks);
            assignRowColKey = function (series) {
                series.key_name = series.row_name + "#" + series.col_name;
                return series;
            };
            exports_1("assignRowColKey", assignRowColKey);
            assignThresholds = function (series, defaultPattern) {
                series.thresholds = (series.pattern.thresholds || defaultPattern.thresholds).split(",").map(function (d) { return +d; });
                if (series.pattern.enable_time_based_thresholds) {
                    var metricrecivedTimeStamp_1 = series.current_servertimestamp || new Date();
                    var metricrecivedTimeStamp_innumber_1 = metricrecivedTimeStamp_1.getHours() * 100 + metricrecivedTimeStamp_1.getMinutes();
                    var weekdays_1 = ["sun", "mon", "tue", "wed", "thu", "fri", "sat"];
                    lodash_1.default.each(series.pattern.time_based_thresholds, function (tbtx) {
                        if (tbtx && tbtx.from && tbtx.to && tbtx.enabledDays &&
                            (metricrecivedTimeStamp_innumber_1 >= +(tbtx.from)) &&
                            (metricrecivedTimeStamp_innumber_1 <= +(tbtx.to)) &&
                            (tbtx.enabledDays.toLowerCase().indexOf(weekdays_1[metricrecivedTimeStamp_1.getDay()]) > -1) &&
                            tbtx.threshold) {
                            series.thresholds = (tbtx.threshold + "").split(",").map(function (d) { return +d; });
                        }
                    });
                }
                return series;
            };
            exports_1("assignThresholds", assignThresholds);
            assignValue = function (series, defaultPattern) {
                if (series.stats) {
                    series.value = series.stats[String(series.pattern.valueName) || String(defaultPattern.valueName)];
                    var decimalInfo = utils.getDecimalsForValue(series.value, +(series.decimals));
                    var formatFunc = kbn_1.default.valueFormats[String(series.pattern.format) || String(defaultPattern.format)];
                    if (series.value === null) {
                        series.displayValue = series.pattern.null_value || defaultPattern.null_value || "Null";
                    }
                    else if (!isNaN(series.value)) {
                        series.valueFormatted = formatFunc(series.value, decimalInfo.decimals, decimalInfo.scaledDecimals);
                        series.valueRounded = kbn_1.default.roundValue(series.value, decimalInfo.decimals);
                        series.displayValue = series.valueFormatted;
                    }
                    else {
                        series.displayValue = series.pattern.null_value || defaultPattern.null_value || "Null";
                    }
                }
                return series;
            };
            exports_1("assignValue", assignValue);
            assignTooltipTemplate = function (series, defaultPattern) {
                series.tooltipTemplate = series.pattern.tooltipTemplate || defaultPattern.tooltipTemplate || "Row Name : _row_name_ <br/>Col Name : _col_name_ <br/>Value : _value_";
                return series;
            };
            filterValues = function (series) {
                if (!series.pattern.filter) {
                    series.pattern.filter = {
                        value_below: "",
                        value_above: ""
                    };
                }
                if (series.pattern && series.pattern.filter && (series.pattern.filter.value_below !== "" || series.pattern.filter.value_above !== "")) {
                    if (series.pattern.filter.value_below !== "" && series.value < +(series.pattern.filter.value_below)) {
                        return false;
                    }
                    if (series.pattern.filter.value_above !== "" && series.value > +(series.pattern.filter.value_above)) {
                        return false;
                    }
                    return true;
                }
                else {
                    return true;
                }
            };
            exports_1("filterValues", filterValues);
            getFilteredSeries = function (seriesArray) {
                var newSeries = [];
                lodash_1.default.each(seriesArray, function (series) {
                    if (filterValues(series)) {
                        newSeries.push(series);
                    }
                });
                return newSeries;
            };
            compute = function (dataComputed, defaultPattern, patterns, row_col_wrapper) {
                dataComputed = dataComputed.map(function (series) { return computeServerTimestamp(series); });
                dataComputed = dataComputed.map(function (series) { return assignPattern(series, patterns, defaultPattern); });
                dataComputed = dataComputed.map(function (series) { return assignDecimals(series, defaultPattern); });
                dataComputed = dataComputed.map(function (series) { return assignValue(series, defaultPattern); });
                dataComputed = getFilteredSeries(dataComputed);
                dataComputed = dataComputed.map(function (series) { return assignRowName(series, defaultPattern, row_col_wrapper); });
                dataComputed = dataComputed.map(function (series) { return assignColName(series, defaultPattern, row_col_wrapper); });
                dataComputed = dataComputed.map(function (series) { return assignRowColKey(series); });
                dataComputed = dataComputed.map(function (series) { return assignThresholds(series, defaultPattern); });
                dataComputed = dataComputed.map(function (series) { return assignBGColors(series, defaultPattern); });
                dataComputed = dataComputed.map(function (series) { return applyBGColorOverrides(series); });
                dataComputed = dataComputed.map(function (series) { return assignTextColors(series, defaultPattern); });
                dataComputed = dataComputed.map(function (series) { return applyTextColorOverrides(series); });
                dataComputed = dataComputed.map(function (series) { return transformValue(series, defaultPattern); });
                dataComputed = dataComputed.map(function (series) { return transformValueOverrides(series); });
                dataComputed = dataComputed.map(function (series) { return applyFontAwesomeIcons(series); });
                dataComputed = dataComputed.map(function (series) { return applyImageTransform(series); });
                dataComputed = dataComputed.map(function (series) { return assignClickableLinks(series); });
                dataComputed = dataComputed.map(function (series) { return assignTooltipTemplate(series, defaultPattern); });
                return dataComputed;
            };
            exports_1("compute", compute);
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VyaWVzSGFuZGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9hcHAvc2VyaWVzSGFuZGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQVFJLGlCQUFpQixHQUFHLFVBQVUsVUFBcUIsRUFBRSxnQkFBMkIsRUFBRSxLQUFjLEVBQUUsWUFBcUIsRUFBRSxRQUFpQixFQUFFLFFBQWdCO2dCQUM1SixJQUFJLENBQUMsR0FBRyxLQUFLLENBQUM7Z0JBQ2QsSUFBSSxVQUFVLElBQUksZ0JBQWdCLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxJQUFJLFVBQVUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxJQUFJLGdCQUFnQixDQUFDLE1BQU0sRUFBRTtvQkFDakgsZ0JBQWdCLEdBQUcsZ0JBQUMsQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLEVBQUUsZ0JBQWdCLENBQUMsTUFBTSxHQUFHLFVBQVUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7b0JBQ2xHLElBQUksZ0JBQWdCLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRTt3QkFDdEQsZ0JBQWdCLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQztxQkFDN0Q7b0JBQ0QsS0FBSyxJQUFJLENBQUMsR0FBRyxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7d0JBQ3hDLElBQUksS0FBSyxJQUFJLFVBQVUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7NEJBQzVCLElBQUksR0FBQyxHQUFHLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxDQUFDOzRCQUM1QixHQUFDLEdBQUcsR0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLE1BQU0sQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLEVBQUUsTUFBTSxDQUFDLFlBQVks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QXNDLENBQUMsQ0FBQztnQkFDbEYsWUFBWSxHQUFHLFlBQVksQ0FBQyxHQUFHLENBQUMsVUFBQSxNQUFNLElBQUksT0FBQSx1QkFBdUIsQ0FBQyxNQUFNLENBQUMsRUFBL0IsQ0FBK0IsQ0FBQyxDQUFDO2dCQUMzRSxZQUFZLEdBQUcsWUFBWSxDQUFDLEdBQUcsQ0FBQyxVQUFBLE1BQU0sSUFBSSxPQUFBLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxFQUE3QixDQUE2QixDQUFDLENBQUM7Z0JBQ3pFLFlBQVksR0FBRyxZQUFZLENBQUMsR0FBRyxDQUFDLFVBQUEsTUFBTSxJQUFJLE9BQUEsbUJBQW1CLENBQUMsTUFBTSxDQUFDLEVBQTNCLENBQTJCLENBQUMsQ0FBQztnQkFDdkUsWUFBWSxHQUFHLFlBQVksQ0FBQyxHQUFHLENBQUMsVUFBQSxNQUFNLElBQUksT0FBQSxvQkFBb0IsQ0FBQyxNQUFNLENBQUMsRUFBNUIsQ0FBNEIsQ0FBQyxDQUFDO2dCQUN4RSxZQUFZLEdBQUcsWUFBWSxDQUFDLEdBQUcsQ0FBQyxVQUFBLE1BQU0sSUFBSSxPQUFBLHFCQUFxQixDQUFDLE1BQU0sRUFBRSxjQUFjLENBQUMsRUFBN0MsQ0FBNkMsQ0FBQyxDQUFDO2dCQUN6RixPQUFPLFlBQVksQ0FBQztZQUN4QixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi9ub2RlX21vZHVsZXMvZ3JhZmFuYS1zZGstbW9ja3MvYXBwL2hlYWRlcnMvY29tbW9uLmQudHNcIiAvPlxyXG5cclxuaW1wb3J0IF8gZnJvbSBcImxvZGFzaFwiO1xyXG5pbXBvcnQga2JuIGZyb20gXCJhcHAvY29yZS91dGlscy9rYm5cIjtcclxuaW1wb3J0IFRpbWVTZXJpZXMgZnJvbSBcImFwcC9jb3JlL3RpbWVfc2VyaWVzMlwiO1xyXG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tIFwiLi91dGlsc1wiO1xyXG5pbXBvcnQgeyBTZXJpZXMsIFBhdHRlcm4gfSBmcm9tIFwiLi8uLi9pbnRlcmZhY2VzL2ludGVyZmFjZXNcIjtcclxuXHJcbmxldCBfX190cmFuc2Zvcm1WYWx1ZSA9IGZ1bmN0aW9uICh0aHJlc2hvbGRzIDogTnVtYmVyW10sIHRyYW5zZm9ybV92YWx1ZXMgOiBTdHJpbmdbXSwgdmFsdWUgOiBOdW1iZXIsIGRpc3BsYXlWYWx1ZSA6IFN0cmluZywgcm93X25hbWUgOiBTdHJpbmcsIGNvbF9uYW1lOiBTdHJpbmcpOiBTdHJpbmcge1xyXG4gICAgbGV0IHQgPSB2YWx1ZTtcclxuICAgIGlmICh0aHJlc2hvbGRzICYmIHRyYW5zZm9ybV92YWx1ZXMgJiYgdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiICYmIHRocmVzaG9sZHMubGVuZ3RoICsgMSA8PSB0cmFuc2Zvcm1fdmFsdWVzLmxlbmd0aCkge1xyXG4gICAgICAgIHRyYW5zZm9ybV92YWx1ZXMgPSBfLmRyb3BSaWdodCh0cmFuc2Zvcm1fdmFsdWVzLCB0cmFuc2Zvcm1fdmFsdWVzLmxlbmd0aCAtIHRocmVzaG9sZHMubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgaWYgKHRyYW5zZm9ybV92YWx1ZXNbdHJhbnNmb3JtX3ZhbHVlcy5sZW5ndGggLSAxXSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm1fdmFsdWVzW3RyYW5zZm9ybV92YWx1ZXMubGVuZ3RoIC0gMV0gPSBcIl92YWx1ZV9cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHRocmVzaG9sZHMubGVuZ3RoOyBpID4gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA+PSB0aHJlc2hvbGRzW2kgLSAxXSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IG8gPSB0cmFuc2Zvcm1fdmFsdWVzW2ldO1xyXG4gICAgICAgICAgICAgICAgbyA9IG8ucmVwbGFjZShuZXcgUmVnRXhwKFwiX3ZhbHVlX1wiLCBcImdcIiksIFN0cmluZyhkaXNwbGF5VmFsdWUpKTtcclxuICAgICAgICAgICAgICAgIG8gPSBvLnJlcGxhY2UobmV3IFJlZ0V4cChcIl9yb3dfbmFtZV9cIiwgXCJnXCIpLCBTdHJpbmcocm93X25hbWUpKTtcclxuICAgICAgICAgICAgICAgIG8gPSBvLnJlcGxhY2UobmV3IFJlZ0V4cChcIl9jb2xfbmFtZV9cIiwgXCJnXCIpLCBTdHJpbmcoY29sX25hbWUpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBvID0gXy5maXJzdCh0cmFuc2Zvcm1fdmFsdWVzKSB8fCBcIlwiO1xyXG4gICAgICAgIG8gPSBvLnJlcGxhY2UobmV3IFJlZ0V4cChcIl92YWx1ZV9cIiwgXCJnXCIpLCBTdHJpbmcoZGlzcGxheVZhbHVlKSk7XHJcbiAgICAgICAgbyA9IG8ucmVwbGFjZShuZXcgUmVnRXhwKFwiX3Jvd19uYW1lX1wiLCBcImdcIiksIFN0cmluZyhyb3dfbmFtZSkpO1xyXG4gICAgICAgIG8gPSBvLnJlcGxhY2UobmV3IFJlZ0V4cChcIl9jb2xfbmFtZV9cIiwgXCJnXCIpLCBTdHJpbmcoY29sX25hbWUpKTtcclxuICAgICAgICByZXR1cm4gbztcclxuICAgIH1cclxuICAgIHJldHVybiBTdHJpbmcodCk7XHJcbn07XHJcbmxldCBfX19jb21wdXRlQ29sb3JGcm9tVGhyZXNob2xkcyA9IGZ1bmN0aW9uICh0aHJlc2hvbGRzIDogTnVtYmVyW10sIGJnQ29sb3JzIDogU3RyaW5nW10sIHZhbHVlIDogTnVtYmVyLCBkZWZhdWx0Q29sb3IgOiBTdHJpbmcpOiBTdHJpbmcge1xyXG4gICAgbGV0IGMgPSBkZWZhdWx0Q29sb3I7XHJcbiAgICBpZiAodGhyZXNob2xkcyAmJiBiZ0NvbG9ycyAmJiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgJiYgdGhyZXNob2xkcy5sZW5ndGggKyAxIDw9IGJnQ29sb3JzLmxlbmd0aCkge1xyXG4gICAgICAgIGJnQ29sb3JzID0gXy5kcm9wUmlnaHQoYmdDb2xvcnMsIGJnQ29sb3JzLmxlbmd0aCAtIHRocmVzaG9sZHMubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgaWYgKGJnQ29sb3JzW2JnQ29sb3JzLmxlbmd0aCAtIDFdID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIGJnQ29sb3JzW2JnQ29sb3JzLmxlbmd0aCAtIDFdID0gZGVmYXVsdENvbG9yO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gdGhyZXNob2xkcy5sZW5ndGg7IGkgPiAwOyBpLS0pIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID49IHRocmVzaG9sZHNbaSAtIDFdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdXRpbHMubm9ybWFsaXplQ29sb3IoYmdDb2xvcnNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB1dGlscy5ub3JtYWxpemVDb2xvcihfLmZpcnN0KGJnQ29sb3JzKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYztcclxufTtcclxubGV0IGRlZmF1bHRIYW5kbGVyID0gZnVuY3Rpb24gKHNlcmllc0RhdGEgOiBTZXJpZXMpOiBTZXJpZXMge1xyXG4gICAgbGV0IHNlcmllcyA6IFNlcmllcyA9IG5ldyBUaW1lU2VyaWVzKHtcclxuICAgICAgICBkYXRhcG9pbnRzOiBzZXJpZXNEYXRhLmRhdGFwb2ludHMgfHwgW10sXHJcbiAgICAgICAgYWxpYXM6IHNlcmllc0RhdGEudGFyZ2V0XHJcbiAgICB9KTtcclxuICAgIHNlcmllcy5mbG90cGFpcnMgPSBzZXJpZXMuZ2V0RmxvdFBhaXJzKFwiY29ubmVjdGVkXCIpO1xyXG4gICAgcmV0dXJuIHNlcmllcztcclxufTtcclxubGV0IGNvbXB1dGVTZXJ2ZXJUaW1lc3RhbXAgPSBmdW5jdGlvbiAoc2VyaWVzIDogU2VyaWVzKTogU2VyaWVzIHtcclxuICAgIHNlcmllcy5jdXJyZW50X3NlcnZlcnRpbWVzdGFtcCA9IG5ldyBEYXRlKCk7XHJcbiAgICBpZiAoc2VyaWVzICYmIHNlcmllcy5kYXRhcG9pbnRzICYmIHNlcmllcy5kYXRhcG9pbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBpZiAoXy5sYXN0KHNlcmllcy5kYXRhcG9pbnRzKS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgc2VyaWVzLmN1cnJlbnRfc2VydmVydGltZXN0YW1wID0gbmV3IERhdGUoXy5sYXN0KHNlcmllcy5kYXRhcG9pbnRzKVsxXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHNlcmllcztcclxufTtcclxubGV0IGFzc2lnblBhdHRlcm4gPSBmdW5jdGlvbiAoc2VyaWVzIDogU2VyaWVzLCBwYXR0ZXJucyA6IFBhdHRlcm5bXSwgZGVmYXVsdFBhdHRlcm4gOiBQYXR0ZXJuKTogU2VyaWVzIHtcclxuICAgIHNlcmllcy5wYXR0ZXJuID0gXy5maW5kKHBhdHRlcm5zLmZpbHRlcihwID0+IHsgcmV0dXJuIHAuZGlzYWJsZWQgIT09IHRydWU7IH0pLCBmdW5jdGlvbiAocCkge1xyXG4gICAgICAgIHJldHVybiBzZXJpZXMuYWxpYXMubWF0Y2gocC5wYXR0ZXJuKTtcclxuICAgIH0pO1xyXG4gICAgaWYgKHNlcmllcy5wYXR0ZXJuID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBzZXJpZXMucGF0dGVybiA9IGRlZmF1bHRQYXR0ZXJuO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHNlcmllcztcclxufTtcclxubGV0IGFzc2lnblJvd05hbWUgPSBmdW5jdGlvbiAoc2VyaWVzIDogU2VyaWVzLCBkZWZhdWx0UGF0dGVybiA6IFBhdHRlcm4gLCByb3dfY29sX3dyYXBwZXIgOiBTdHJpbmcpOiBTZXJpZXMge1xyXG4gICAgc2VyaWVzLnJvd19uYW1lID0gc2VyaWVzLmFsaWFzLnNwbGl0KFN0cmluZyhzZXJpZXMucGF0dGVybi5kZWxpbWl0ZXIpIHx8IFwiLlwiKS5yZWR1Y2UoKHIsIGl0LCBpKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHIucmVwbGFjZShuZXcgUmVnRXhwKCBTdHJpbmcocm93X2NvbF93cmFwcGVyKSArIGkgKyBTdHJpbmcocm93X2NvbF93cmFwcGVyKSwgXCJnXCIpLCBpdCk7XHJcbiAgICB9LCBzZXJpZXMucGF0dGVybi5yb3dfbmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAocm93X2NvbF93cmFwcGVyICsgXCJzZXJpZXNcIiArIHJvd19jb2xfd3JhcHBlciwgXCJnXCIpLCBTdHJpbmcoc2VyaWVzLmFsaWFzKSkgfHwgZGVmYXVsdFBhdHRlcm4ucm93X25hbWUucmVwbGFjZShuZXcgUmVnRXhwKHJvd19jb2xfd3JhcHBlciArIFwic2VyaWVzXCIgKyByb3dfY29sX3dyYXBwZXIsIFwiZ1wiKSwgU3RyaW5nKHNlcmllcy5hbGlhcykpKTtcclxuICAgIGlmIChzZXJpZXMuYWxpYXMuc3BsaXQoU3RyaW5nKHNlcmllcy5wYXR0ZXJuLmRlbGltaXRlcikgfHwgXCIuXCIpLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIHNlcmllcy5yb3dfbmFtZSA9IHNlcmllcy5hbGlhcztcclxuICAgIH1cclxuICAgIHJldHVybiBzZXJpZXM7XHJcbn07XHJcbmxldCBhc3NpZ25Db2xOYW1lID0gZnVuY3Rpb24gKHNlcmllcyA6IFNlcmllcywgZGVmYXVsdFBhdHRlcm4gOiBQYXR0ZXJuLCByb3dfY29sX3dyYXBwZXIgOiBTdHJpbmcgKTogU2VyaWVzIHtcclxuICAgIHNlcmllcy5jb2xfbmFtZSA9IHNlcmllcy5hbGlhcy5zcGxpdChTdHJpbmcoc2VyaWVzLnBhdHRlcm4uZGVsaW1pdGVyKSB8fCBcIi5cIikucmVkdWNlKChyLCBpdCwgaSkgPT4ge1xyXG4gICAgICAgIHJldHVybiByLnJlcGxhY2UobmV3IFJlZ0V4cChTdHJpbmcocm93X2NvbF93cmFwcGVyKSArIGkgKyBTdHJpbmcocm93X2NvbF93cmFwcGVyKSwgXCJnXCIpLCBpdCk7XHJcbiAgICB9LCBzZXJpZXMucGF0dGVybi5jb2xfbmFtZSB8fCBkZWZhdWx0UGF0dGVybi5jb2xfbmFtZSk7XHJcbiAgICBpZiAoc2VyaWVzLmFsaWFzLnNwbGl0KFN0cmluZyhzZXJpZXMucGF0dGVybi5kZWxpbWl0ZXIpIHx8IFwiLlwiKS5sZW5ndGggPT09IDEgfHwgc2VyaWVzLnJvd19uYW1lID09PSBzZXJpZXMuYWxpYXMpIHtcclxuICAgICAgICBzZXJpZXMuY29sX25hbWUgPSBzZXJpZXMucGF0dGVybi5jb2xfbmFtZSB8fCBcIlZhbHVlXCI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc2VyaWVzO1xyXG59O1xyXG5sZXQgYXNzaWduRGVjaW1hbHMgPSBmdW5jdGlvbiAoc2VyaWVzIDogU2VyaWVzLCBkZWZhdWx0UGF0dGVybiA6IFBhdHRlcm4gKTogU2VyaWVzIHtcclxuICAgIHNlcmllcy5kZWNpbWFscyA9IChzZXJpZXMucGF0dGVybi5kZWNpbWFscykgfHwgZGVmYXVsdFBhdHRlcm4uZGVjaW1hbHM7XHJcbiAgICByZXR1cm4gc2VyaWVzO1xyXG59O1xyXG5sZXQgdHJhbnNmb3JtVmFsdWUgPSBmdW5jdGlvbiAoc2VyaWVzIDogU2VyaWVzLCBkZWZhdWx0UGF0dGVybjogUGF0dGVybik6IFNlcmllcyB7XHJcbiAgICBzZXJpZXMuZW5hYmxlX3RyYW5zZm9ybSA9IHNlcmllcy5wYXR0ZXJuLmVuYWJsZV90cmFuc2Zvcm07XHJcbiAgICBzZXJpZXMudHJhbnNmb3JtX3ZhbHVlcyA9IChzZXJpZXMucGF0dGVybi50cmFuc2Zvcm1fdmFsdWVzIHx8IGRlZmF1bHRQYXR0ZXJuLnRyYW5zZm9ybV92YWx1ZXMpLnNwbGl0KFwifFwiKTtcclxuICAgIHNlcmllcy5kaXNwbGF5VmFsdWUgPSBzZXJpZXMuZW5hYmxlX3RyYW5zZm9ybSA9PT0gdHJ1ZSA/IF9fX3RyYW5zZm9ybVZhbHVlKHNlcmllcy50aHJlc2hvbGRzLCBzZXJpZXMudHJhbnNmb3JtX3ZhbHVlcywgc2VyaWVzLnZhbHVlLCBzZXJpZXMuZGlzcGxheVZhbHVlLCBzZXJpZXMucm93X25hbWUsIHNlcmllcy5jb2xfbmFtZSkgOiBzZXJpZXMuZGlzcGxheVZhbHVlO1xyXG4gICAgaWYgKHNlcmllcy5kaXNwbGF5VmFsdWUgPT09IChzZXJpZXMucGF0dGVybi5udWxsX3ZhbHVlIHx8IGRlZmF1bHRQYXR0ZXJuLm51bGxfdmFsdWUgfHwgXCJOdWxsXCIpKSB7XHJcbiAgICAgICAgc2VyaWVzLmRpc3BsYXlWYWx1ZSA9IHNlcmllcy5wYXR0ZXJuLm51bGxfdmFsdWUgfHwgZGVmYXVsdFBhdHRlcm4ubnVsbF92YWx1ZTtcclxuICAgIH0gZWxzZSBpZiAoaXNOYU4oc2VyaWVzLnZhbHVlKSkge1xyXG4gICAgICAgIHNlcmllcy5kaXNwbGF5VmFsdWUgPSBzZXJpZXMucGF0dGVybi5udWxsX3ZhbHVlIHx8IGRlZmF1bHRQYXR0ZXJuLm51bGxfdmFsdWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc2VyaWVzO1xyXG59O1xyXG5sZXQgdHJhbnNmb3JtVmFsdWVPdmVycmlkZXMgPSBmdW5jdGlvbiAoc2VyaWVzIDogU2VyaWVzKTogU2VyaWVzIHtcclxuICAgIHNlcmllcy5lbmFibGVfdHJhbnNmb3JtX292ZXJyaWRlcyA9IHNlcmllcy5wYXR0ZXJuLmVuYWJsZV90cmFuc2Zvcm1fb3ZlcnJpZGVzO1xyXG4gICAgc2VyaWVzLnRyYW5zZm9ybV92YWx1ZXNfb3ZlcnJpZGVzID0gc2VyaWVzLnBhdHRlcm4udHJhbnNmb3JtX3ZhbHVlc19vdmVycmlkZXMgfHwgXCJcIjtcclxuICAgIGlmIChzZXJpZXMuZW5hYmxlX3RyYW5zZm9ybV9vdmVycmlkZXMgJiYgc2VyaWVzLnRyYW5zZm9ybV92YWx1ZXNfb3ZlcnJpZGVzICE9PSBcIlwiKSB7XHJcbiAgICAgICAgbGV0IF90cmFuc2Zvcm1fdmFsdWVzX292ZXJyaWRlcyA9IHNlcmllcy50cmFuc2Zvcm1fdmFsdWVzX292ZXJyaWRlcy5zcGxpdChcInxcIikuZmlsdGVyKGNvbiA9PiBjb24uaW5kZXhPZihcIi0+XCIpID4gLTEpLm1hcChjb24gPT4gY29uLnNwbGl0KFwiLT5cIikpLmZpbHRlcihjb24gPT4gKyhjb25bMF0pID09PSBzZXJpZXMudmFsdWUpLm1hcChjb24gPT4gY29uWzFdKTtcclxuICAgICAgICBpZiAoX3RyYW5zZm9ybV92YWx1ZXNfb3ZlcnJpZGVzLmxlbmd0aCA+IDAgJiYgX3RyYW5zZm9ybV92YWx1ZXNfb3ZlcnJpZGVzWzBdICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIHNlcmllcy5kaXNwbGF5VmFsdWUgPSAoXCJcIiArIF90cmFuc2Zvcm1fdmFsdWVzX292ZXJyaWRlc1swXSkudHJpbSgpLnJlcGxhY2UobmV3IFJlZ0V4cChcIl92YWx1ZV9cIiwgXCJnXCIpLCBTdHJpbmcoc2VyaWVzLmRpc3BsYXlWYWx1ZSkpLnJlcGxhY2UobmV3IFJlZ0V4cChcIl9yb3dfbmFtZV9cIiwgXCJnXCIpLCBTdHJpbmcoc2VyaWVzLnJvd19uYW1lKSkucmVwbGFjZShuZXcgUmVnRXhwKFwiX2NvbF9uYW1lX1wiLCBcImdcIiksIFN0cmluZyhzZXJpZXMuY29sX25hbWUpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc2VyaWVzO1xyXG59O1xyXG5sZXQgYXNzaWduQkdDb2xvcnMgPSBmdW5jdGlvbiAoc2VyaWVzIDogU2VyaWVzLCBkZWZhdWx0UGF0dGVybiA6IFBhdHRlcm4pOiBTZXJpZXMge1xyXG4gICAgc2VyaWVzLmVuYWJsZV9iZ0NvbG9yID0gc2VyaWVzLnBhdHRlcm4uZW5hYmxlX2JnQ29sb3I7XHJcbiAgICBzZXJpZXMuYmdDb2xvcnMgPSAoc2VyaWVzLnBhdHRlcm4uYmdDb2xvcnMgfHwgZGVmYXVsdFBhdHRlcm4uYmdDb2xvcnMgfHwgXCJcIikuc3BsaXQoXCJ8XCIpO1xyXG4gICAgc2VyaWVzLmJnQ29sb3IgPSBzZXJpZXMuZW5hYmxlX2JnQ29sb3IgPT09IHRydWUgPyBfX19jb21wdXRlQ29sb3JGcm9tVGhyZXNob2xkcyhzZXJpZXMudGhyZXNob2xkcywgc2VyaWVzLmJnQ29sb3JzLCBzZXJpZXMudmFsdWUsIFwidHJhbnNwYXJlbnRcIikgOiBcInRyYW5zcGFyZW50XCI7XHJcbiAgICBpZiAoc2VyaWVzLmRpc3BsYXlWYWx1ZSA9PT0gKHNlcmllcy5wYXR0ZXJuLm51bGxfdmFsdWUgfHwgZGVmYXVsdFBhdHRlcm4ubnVsbF92YWx1ZSB8fCBcIk51bGxcIikpIHtcclxuICAgICAgICBzZXJpZXMuYmdDb2xvciA9IHNlcmllcy5wYXR0ZXJuLm51bGxfY29sb3IgfHwgZGVmYXVsdFBhdHRlcm4ubnVsbF9jb2xvciB8fCBcInRyYW5zcGFyZW50XCI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc2VyaWVzO1xyXG59O1xyXG5sZXQgYXNzaWduVGV4dENvbG9ycyA9IGZ1bmN0aW9uIChzZXJpZXMgOiBTZXJpZXMsIGRlZmF1bHRQYXR0ZXJuIDogUGF0dGVybik6IFNlcmllcyB7XHJcbiAgICBzZXJpZXMuZW5hYmxlX1RleHRDb2xvcnMgPSBzZXJpZXMucGF0dGVybi5lbmFibGVfVGV4dENvbG9ycztcclxuICAgIHNlcmllcy50ZXh0Q29sb3JzID0gKHNlcmllcy5wYXR0ZXJuLnRleHRDb2xvcnMgfHwgZGVmYXVsdFBhdHRlcm4udGV4dENvbG9ycyB8fCBcIlwiKS5zcGxpdChcInxcIik7XHJcbiAgICBzZXJpZXMudGV4dENvbG9yID0gc2VyaWVzLmVuYWJsZV9UZXh0Q29sb3JzID09PSB0cnVlID8gX19fY29tcHV0ZUNvbG9yRnJvbVRocmVzaG9sZHMoc2VyaWVzLnRocmVzaG9sZHMsIHNlcmllcy50ZXh0Q29sb3JzLCBzZXJpZXMudmFsdWUsIFwid2hpdGVcIikgOiBcIndoaXRlXCI7XHJcbiAgICBpZiAoc2VyaWVzLmRpc3BsYXlWYWx1ZSA9PT0gKHNlcmllcy5wYXR0ZXJuLm51bGxfdmFsdWUgfHwgZGVmYXVsdFBhdHRlcm4ubnVsbF92YWx1ZSB8fCBcIk51bGxcIikpIHtcclxuICAgICAgICBzZXJpZXMudGV4dENvbG9yID0gc2VyaWVzLnBhdHRlcm4ubnVsbF90ZXh0X2NvbG9yIHx8IGRlZmF1bHRQYXR0ZXJuLm51bGxfdGV4dF9jb2xvciB8fCBcIndoaXRlXCI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc2VyaWVzO1xyXG59O1xyXG5sZXQgYXBwbHlCR0NvbG9yT3ZlcnJpZGVzID0gZnVuY3Rpb24gKHNlcmllcyA6IFNlcmllcyk6IFNlcmllcyB7XHJcbiAgICBzZXJpZXMuZW5hYmxlX2JnQ29sb3Jfb3ZlcnJpZGVzID0gc2VyaWVzLnBhdHRlcm4uZW5hYmxlX2JnQ29sb3Jfb3ZlcnJpZGVzO1xyXG4gICAgc2VyaWVzLmJnQ29sb3JzX292ZXJyaWRlcyA9IHNlcmllcy5wYXR0ZXJuLmJnQ29sb3JzX292ZXJyaWRlcyB8fCBcIlwiO1xyXG4gICAgaWYgKHNlcmllcy5lbmFibGVfYmdDb2xvcl9vdmVycmlkZXMgJiYgc2VyaWVzLmJnQ29sb3JzX292ZXJyaWRlcyAhPT0gXCJcIikge1xyXG4gICAgICAgIGxldCBfYmdDb2xvcnNfb3ZlcnJpZGVzID0gc2VyaWVzLmJnQ29sb3JzX292ZXJyaWRlcy5zcGxpdChcInxcIikuZmlsdGVyKGNvbiA9PiBjb24uaW5kZXhPZihcIi0+XCIpID4gLTEpLm1hcChjb24gPT4gY29uLnNwbGl0KFwiLT5cIikpLmZpbHRlcihjb24gPT4gKyhjb25bMF0pID09PSBzZXJpZXMudmFsdWUpLm1hcChjb24gPT4gY29uWzFdKTtcclxuICAgICAgICBpZiAoX2JnQ29sb3JzX292ZXJyaWRlcy5sZW5ndGggPiAwICYmIF9iZ0NvbG9yc19vdmVycmlkZXNbMF0gIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgc2VyaWVzLmJnQ29sb3IgPSB1dGlscy5ub3JtYWxpemVDb2xvcigoXCJcIiArIF9iZ0NvbG9yc19vdmVycmlkZXNbMF0pLnRyaW0oKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHNlcmllcztcclxufTtcclxubGV0IGFwcGx5VGV4dENvbG9yT3ZlcnJpZGVzID0gZnVuY3Rpb24gKHNlcmllcyA6IFNlcmllcyk6IFNlcmllcyB7XHJcbiAgICBzZXJpZXMuZW5hYmxlX1RleHRDb2xvcl9vdmVycmlkZXMgPSBzZXJpZXMucGF0dGVybi5lbmFibGVfVGV4dENvbG9yX292ZXJyaWRlcztcclxuICAgIHNlcmllcy50ZXh0Q29sb3JzX292ZXJyaWRlcyA9IHNlcmllcy5wYXR0ZXJuLnRleHRDb2xvcnNfb3ZlcnJpZGVzIHx8IFwiXCI7XHJcbiAgICBpZiAoc2VyaWVzLmVuYWJsZV9UZXh0Q29sb3Jfb3ZlcnJpZGVzICYmIHNlcmllcy50ZXh0Q29sb3JzX292ZXJyaWRlcyAhPT0gXCJcIikge1xyXG4gICAgICAgIGxldCBfdGV4dENvbG9yc19vdmVycmlkZXMgPSBzZXJpZXMudGV4dENvbG9yc19vdmVycmlkZXMuc3BsaXQoXCJ8XCIpLmZpbHRlcihjb24gPT4gY29uLmluZGV4T2YoXCItPlwiKSA+IC0xKS5tYXAoY29uID0+IGNvbi5zcGxpdChcIi0+XCIpKS5maWx0ZXIoY29uID0+ICsoY29uWzBdKSA9PT0gc2VyaWVzLnZhbHVlKS5tYXAoY29uID0+IGNvblsxXSk7XHJcbiAgICAgICAgaWYgKF90ZXh0Q29sb3JzX292ZXJyaWRlcy5sZW5ndGggPiAwICYmIF90ZXh0Q29sb3JzX292ZXJyaWRlc1swXSAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICBzZXJpZXMudGV4dENvbG9yID0gdXRpbHMubm9ybWFsaXplQ29sb3IoKFwiXCIgKyBfdGV4dENvbG9yc19vdmVycmlkZXNbMF0pLnRyaW0oKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHNlcmllcztcclxufTtcclxubGV0IGFwcGx5Rm9udEF3ZXNvbWVJY29ucyA9IGZ1bmN0aW9uIChzZXJpZXMgOiBTZXJpZXMpOiBTZXJpZXMge1xyXG4gICAgc2VyaWVzLmFjdHVhbF9kaXNwbGF5dmFsdWUgPSBzZXJpZXMuZGlzcGxheVZhbHVlO1xyXG4gICAgc2VyaWVzLmFjdHVhbF9yb3dfbmFtZSA9IHNlcmllcy5yb3dfbmFtZTtcclxuICAgIHNlcmllcy5hY3R1YWxfY29sX25hbWUgPSBzZXJpZXMuY29sX25hbWU7XHJcbiAgICBpZiAoc2VyaWVzLmRpc3BsYXlWYWx1ZSAmJiBzZXJpZXMuZGlzcGxheVZhbHVlLmluZGV4T2YoXCJfZmEtXCIpID4gLTEpIHtcclxuICAgICAgICBzZXJpZXMuZGlzcGxheVZhbHVlID0gdXRpbHMucmVwbGFjZUZvbnRBd2Vzb21lSWNvbnMoc2VyaWVzLmRpc3BsYXlWYWx1ZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc2VyaWVzLnJvd19uYW1lICYmIHNlcmllcy5yb3dfbmFtZS5pbmRleE9mKFwiX2ZhLVwiKSA+IC0xKSB7XHJcbiAgICAgICAgc2VyaWVzLnJvd19uYW1lID0gdXRpbHMucmVwbGFjZUZvbnRBd2Vzb21lSWNvbnMoc2VyaWVzLnJvd19uYW1lKTtcclxuICAgIH1cclxuICAgIGlmIChzZXJpZXMuY29sX25hbWUgJiYgc2VyaWVzLmNvbF9uYW1lLmluZGV4T2YoXCJfZmEtXCIpID4gLTEpIHtcclxuICAgICAgICBzZXJpZXMuY29sX25hbWUgPSB1dGlscy5yZXBsYWNlRm9udEF3ZXNvbWVJY29ucyhzZXJpZXMuY29sX25hbWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHNlcmllcztcclxufTtcclxubGV0IGFwcGx5SW1hZ2VUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoc2VyaWVzIDogU2VyaWVzKTogU2VyaWVzIHtcclxuICAgIGlmIChzZXJpZXMuZGlzcGxheVZhbHVlICYmIHNlcmllcy5kaXNwbGF5VmFsdWUuaW5kZXhPZihcIl9pbWctXCIpID4gLTEpIHtcclxuICAgICAgICBzZXJpZXMuZGlzcGxheVZhbHVlID0gdXRpbHMucmVwbGFjZVdpdGhJbWFnZXMoc2VyaWVzLmRpc3BsYXlWYWx1ZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc2VyaWVzLnJvd19uYW1lICYmIHNlcmllcy5yb3dfbmFtZS5pbmRleE9mKFwiX2ltZy1cIikgPiAtMSkge1xyXG4gICAgICAgIHNlcmllcy5yb3dfbmFtZSA9IHV0aWxzLnJlcGxhY2VXaXRoSW1hZ2VzKHNlcmllcy5yb3dfbmFtZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc2VyaWVzLmNvbF9uYW1lICYmIHNlcmllcy5jb2xfbmFtZS5pbmRleE9mKFwiX2ltZy1cIikgPiAtMSkge1xyXG4gICAgICAgIHNlcmllcy5jb2xfbmFtZSA9IHV0aWxzLnJlcGxhY2VXaXRoSW1hZ2VzKHNlcmllcy5jb2xfbmFtZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc2VyaWVzO1xyXG59O1xyXG5sZXQgYXNzaWduQ2xpY2thYmxlTGlua3MgPSBmdW5jdGlvbiAoc2VyaWVzOiBTZXJpZXMpOiBTZXJpZXMge1xyXG4gICAgaWYgKHNlcmllcy5wYXR0ZXJuLmVuYWJsZV9jbGlja2FibGVfY2VsbHMpIHtcclxuICAgICAgICBsZXQgdGFyZ2V0TGluayA9IHNlcmllcy5wYXR0ZXJuLmNsaWNrYWJsZV9jZWxsc19saW5rIHx8IFwiI1wiO1xyXG4gICAgICAgIHRhcmdldExpbmsgPSB0YXJnZXRMaW5rLnJlcGxhY2UobmV3IFJlZ0V4cChcIl9yb3dfbmFtZV9cIiwgXCJnXCIpLCB1dGlscy5nZXRBY3R1YWxOYW1lV2l0aG91dFRyYW5zZm9ybVNpZ24oc2VyaWVzLmFjdHVhbF9yb3dfbmFtZSkudHJpbSgpKTtcclxuICAgICAgICB0YXJnZXRMaW5rID0gdGFyZ2V0TGluay5yZXBsYWNlKG5ldyBSZWdFeHAoXCJfY29sX25hbWVfXCIsIFwiZ1wiKSwgdXRpbHMuZ2V0QWN0dWFsTmFtZVdpdGhvdXRUcmFuc2Zvcm1TaWduKHNlcmllcy5hY3R1YWxfY29sX25hbWUpLnRyaW0oKSk7XHJcbiAgICAgICAgdGFyZ2V0TGluayA9IHRhcmdldExpbmsucmVwbGFjZShuZXcgUmVnRXhwKFwiX3ZhbHVlX1wiLCBcImdcIiksIHV0aWxzLmdldEFjdHVhbE5hbWVXaXRob3V0VHJhbnNmb3JtU2lnbihzZXJpZXMudmFsdWUpLnRyaW0oKSk7XHJcbiAgICAgICAgc2VyaWVzLmRpc3BsYXlWYWx1ZSA9IGA8YSBocmVmPVwiJHt0YXJnZXRMaW5rfVwiIHRhcmdldD1cIl9ibGFua1wiPiR7c2VyaWVzLmRpc3BsYXlWYWx1ZX08L2E+YDtcclxuICAgIH1cclxuICAgIHJldHVybiBzZXJpZXM7XHJcbn07XHJcbmxldCBhc3NpZ25Sb3dDb2xLZXkgPSBmdW5jdGlvbiAoc2VyaWVzIDogU2VyaWVzKTogU2VyaWVzIHtcclxuICAgIHNlcmllcy5rZXlfbmFtZSA9IHNlcmllcy5yb3dfbmFtZSArIFwiI1wiICsgc2VyaWVzLmNvbF9uYW1lO1xyXG4gICAgcmV0dXJuIHNlcmllcztcclxufTtcclxubGV0IGFzc2lnblRocmVzaG9sZHMgPSBmdW5jdGlvbiAoc2VyaWVzIDogU2VyaWVzLCBkZWZhdWx0UGF0dGVybiA6IFBhdHRlcm4pOiBTZXJpZXMge1xyXG4gICAgc2VyaWVzLnRocmVzaG9sZHMgPSAoc2VyaWVzLnBhdHRlcm4udGhyZXNob2xkcyB8fCBkZWZhdWx0UGF0dGVybi50aHJlc2hvbGRzKS5zcGxpdChcIixcIikubWFwKGQgPT4gK2QpO1xyXG4gICAgaWYgKHNlcmllcy5wYXR0ZXJuLmVuYWJsZV90aW1lX2Jhc2VkX3RocmVzaG9sZHMpIHtcclxuICAgICAgICBsZXQgbWV0cmljcmVjaXZlZFRpbWVTdGFtcCA9IHNlcmllcy5jdXJyZW50X3NlcnZlcnRpbWVzdGFtcCB8fCBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIGxldCBtZXRyaWNyZWNpdmVkVGltZVN0YW1wX2lubnVtYmVyID0gbWV0cmljcmVjaXZlZFRpbWVTdGFtcC5nZXRIb3VycygpICogMTAwICsgbWV0cmljcmVjaXZlZFRpbWVTdGFtcC5nZXRNaW51dGVzKCk7XHJcbiAgICAgICAgbGV0IHdlZWtkYXlzID0gW1wic3VuXCIsIFwibW9uXCIsIFwidHVlXCIsIFwid2VkXCIsIFwidGh1XCIsIFwiZnJpXCIsIFwic2F0XCJdO1xyXG4gICAgICAgIF8uZWFjaChzZXJpZXMucGF0dGVybi50aW1lX2Jhc2VkX3RocmVzaG9sZHMsICh0YnR4KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0YnR4ICYmIHRidHguZnJvbSAmJiB0YnR4LnRvICYmIHRidHguZW5hYmxlZERheXMgJiZcclxuICAgICAgICAgICAgICAgIChtZXRyaWNyZWNpdmVkVGltZVN0YW1wX2lubnVtYmVyID49ICsodGJ0eC5mcm9tKSkgJiZcclxuICAgICAgICAgICAgICAgIChtZXRyaWNyZWNpdmVkVGltZVN0YW1wX2lubnVtYmVyIDw9ICsodGJ0eC50bykpICYmXHJcbiAgICAgICAgICAgICAgICAodGJ0eC5lbmFibGVkRGF5cy50b0xvd2VyQ2FzZSgpLmluZGV4T2Yod2Vla2RheXNbbWV0cmljcmVjaXZlZFRpbWVTdGFtcC5nZXREYXkoKV0pID4gLTEpICYmXHJcbiAgICAgICAgICAgICAgICB0YnR4LnRocmVzaG9sZFxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHNlcmllcy50aHJlc2hvbGRzID0gKHRidHgudGhyZXNob2xkICsgXCJcIikuc3BsaXQoXCIsXCIpLm1hcChkID0+ICtkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHNlcmllcztcclxufTtcclxubGV0IGFzc2lnblZhbHVlID0gZnVuY3Rpb24gKHNlcmllcyA6IFNlcmllcywgZGVmYXVsdFBhdHRlcm4gOiBQYXR0ZXJuKTogU2VyaWVzIHtcclxuICAgIGlmIChzZXJpZXMuc3RhdHMpIHtcclxuICAgICAgICBzZXJpZXMudmFsdWUgPSBzZXJpZXMuc3RhdHNbU3RyaW5nKHNlcmllcy5wYXR0ZXJuLnZhbHVlTmFtZSkgfHwgU3RyaW5nKGRlZmF1bHRQYXR0ZXJuLnZhbHVlTmFtZSldO1xyXG4gICAgICAgIGxldCBkZWNpbWFsSW5mbzogYW55ID0gdXRpbHMuZ2V0RGVjaW1hbHNGb3JWYWx1ZShzZXJpZXMudmFsdWUsICsoc2VyaWVzLmRlY2ltYWxzKSk7XHJcbiAgICAgICAgbGV0IGZvcm1hdEZ1bmMgPSBrYm4udmFsdWVGb3JtYXRzW1N0cmluZyhzZXJpZXMucGF0dGVybi5mb3JtYXQpIHx8IFN0cmluZyhkZWZhdWx0UGF0dGVybi5mb3JtYXQpXTtcclxuICAgICAgICBpZiAoc2VyaWVzLnZhbHVlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHNlcmllcy5kaXNwbGF5VmFsdWUgPSBzZXJpZXMucGF0dGVybi5udWxsX3ZhbHVlIHx8IGRlZmF1bHRQYXR0ZXJuLm51bGxfdmFsdWUgfHwgXCJOdWxsXCI7XHJcbiAgICAgICAgfSBlbHNlIGlmICghaXNOYU4oc2VyaWVzLnZhbHVlKSkge1xyXG4gICAgICAgICAgICBzZXJpZXMudmFsdWVGb3JtYXR0ZWQgPSBmb3JtYXRGdW5jKHNlcmllcy52YWx1ZSwgZGVjaW1hbEluZm8uZGVjaW1hbHMsIGRlY2ltYWxJbmZvLnNjYWxlZERlY2ltYWxzKTtcclxuICAgICAgICAgICAgc2VyaWVzLnZhbHVlUm91bmRlZCA9IGtibi5yb3VuZFZhbHVlKHNlcmllcy52YWx1ZSwgZGVjaW1hbEluZm8uZGVjaW1hbHMpO1xyXG4gICAgICAgICAgICBzZXJpZXMuZGlzcGxheVZhbHVlID0gc2VyaWVzLnZhbHVlRm9ybWF0dGVkO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlcmllcy5kaXNwbGF5VmFsdWUgPSBzZXJpZXMucGF0dGVybi5udWxsX3ZhbHVlIHx8IGRlZmF1bHRQYXR0ZXJuLm51bGxfdmFsdWUgfHwgXCJOdWxsXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHNlcmllcztcclxufTtcclxubGV0IGFzc2lnblRvb2x0aXBUZW1wbGF0ZSA9IGZ1bmN0aW9uIChzZXJpZXMgOiBTZXJpZXMsIGRlZmF1bHRQYXR0ZXJuIDogUGF0dGVybikgOiBTZXJpZXMge1xyXG4gICAgc2VyaWVzLnRvb2x0aXBUZW1wbGF0ZSA9IHNlcmllcy5wYXR0ZXJuLnRvb2x0aXBUZW1wbGF0ZSB8fCBkZWZhdWx0UGF0dGVybi50b29sdGlwVGVtcGxhdGUgfHwgXCJSb3cgTmFtZSA6IF9yb3dfbmFtZV8gPGJyLz5Db2wgTmFtZSA6IF9jb2xfbmFtZV8gPGJyLz5WYWx1ZSA6IF92YWx1ZV9cIjtcclxuICAgIHJldHVybiBzZXJpZXM7XHJcbn07XHJcbmxldCBmaWx0ZXJWYWx1ZXMgPSBmdW5jdGlvbiAoc2VyaWVzIDogU2VyaWVzKTogQm9vbGVhbiB7XHJcbiAgICBpZiAoIXNlcmllcy5wYXR0ZXJuLmZpbHRlcikge1xyXG4gICAgICAgIHNlcmllcy5wYXR0ZXJuLmZpbHRlciA9IHtcclxuICAgICAgICAgICAgdmFsdWVfYmVsb3cgOiBcIlwiLFxyXG4gICAgICAgICAgICB2YWx1ZV9hYm92ZTogXCJcIlxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBpZiAoc2VyaWVzLnBhdHRlcm4gJiYgc2VyaWVzLnBhdHRlcm4uZmlsdGVyICYmIChzZXJpZXMucGF0dGVybi5maWx0ZXIudmFsdWVfYmVsb3cgIT09IFwiXCIgfHwgc2VyaWVzLnBhdHRlcm4uZmlsdGVyLnZhbHVlX2Fib3ZlICE9PSBcIlwiKSkge1xyXG4gICAgICAgIGlmIChzZXJpZXMucGF0dGVybi5maWx0ZXIudmFsdWVfYmVsb3cgIT09IFwiXCIgJiYgc2VyaWVzLnZhbHVlIDwgKyhzZXJpZXMucGF0dGVybi5maWx0ZXIudmFsdWVfYmVsb3cpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNlcmllcy5wYXR0ZXJuLmZpbHRlci52YWx1ZV9hYm92ZSAhPT0gXCJcIiAmJiBzZXJpZXMudmFsdWUgPiArKHNlcmllcy5wYXR0ZXJuLmZpbHRlci52YWx1ZV9hYm92ZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn07XHJcbmxldCBnZXRGaWx0ZXJlZFNlcmllcyA9IGZ1bmN0aW9uKHNlcmllc0FycmF5OiBTZXJpZXNbXSkgOiBTZXJpZXNbXSB7XHJcbiAgICBsZXQgbmV3U2VyaWVzIDogU2VyaWVzW10gPSBbXTtcclxuICAgIF8uZWFjaChzZXJpZXNBcnJheSAsIHNlcmllcyA9PiB7XHJcbiAgICAgICAgaWYgKGZpbHRlclZhbHVlcyhzZXJpZXMpKSB7XHJcbiAgICAgICAgICAgIG5ld1Nlcmllcy5wdXNoKHNlcmllcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gbmV3U2VyaWVzO1xyXG59O1xyXG5sZXQgY29tcHV0ZSA9IGZ1bmN0aW9uIChkYXRhQ29tcHV0ZWQgOiBTZXJpZXNbXSAsIGRlZmF1bHRQYXR0ZXJuIDogUGF0dGVybiwgcGF0dGVybnMgOiBQYXR0ZXJuW10sIHJvd19jb2xfd3JhcHBlciA6IFN0cmluZyApOiBTZXJpZXNbXSB7XHJcbiAgICBkYXRhQ29tcHV0ZWQgPSBkYXRhQ29tcHV0ZWQubWFwKHNlcmllcyA9PiBjb21wdXRlU2VydmVyVGltZXN0YW1wKHNlcmllcykpO1xyXG4gICAgZGF0YUNvbXB1dGVkID0gZGF0YUNvbXB1dGVkLm1hcChzZXJpZXMgPT4gYXNzaWduUGF0dGVybihzZXJpZXMsIHBhdHRlcm5zLCBkZWZhdWx0UGF0dGVybikpO1xyXG4gICAgZGF0YUNvbXB1dGVkID0gZGF0YUNvbXB1dGVkLm1hcChzZXJpZXMgPT4gYXNzaWduRGVjaW1hbHMoc2VyaWVzLCBkZWZhdWx0UGF0dGVybikpO1xyXG4gICAgZGF0YUNvbXB1dGVkID0gZGF0YUNvbXB1dGVkLm1hcChzZXJpZXMgPT4gYXNzaWduVmFsdWUoc2VyaWVzLCBkZWZhdWx0UGF0dGVybikpO1xyXG4gICAgZGF0YUNvbXB1dGVkID0gZ2V0RmlsdGVyZWRTZXJpZXMoZGF0YUNvbXB1dGVkKTtcclxuICAgIGRhdGFDb21wdXRlZCA9IGRhdGFDb21wdXRlZC5tYXAoc2VyaWVzID0+IGFzc2lnblJvd05hbWUoc2VyaWVzLCBkZWZhdWx0UGF0dGVybiwgcm93X2NvbF93cmFwcGVyKSk7XHJcbiAgICBkYXRhQ29tcHV0ZWQgPSBkYXRhQ29tcHV0ZWQubWFwKHNlcmllcyA9PiBhc3NpZ25Db2xOYW1lKHNlcmllcywgZGVmYXVsdFBhdHRlcm4sIHJvd19jb2xfd3JhcHBlcikpO1xyXG4gICAgZGF0YUNvbXB1dGVkID0gZGF0YUNvbXB1dGVkLm1hcChzZXJpZXMgPT4gYXNzaWduUm93Q29sS2V5KHNlcmllcykpO1xyXG4gICAgZGF0YUNvbXB1dGVkID0gZGF0YUNvbXB1dGVkLm1hcChzZXJpZXMgPT4gYXNzaWduVGhyZXNob2xkcyhzZXJpZXMsIGRlZmF1bHRQYXR0ZXJuKSk7XHJcbiAgICBkYXRhQ29tcHV0ZWQgPSBkYXRhQ29tcHV0ZWQubWFwKHNlcmllcyA9PiBhc3NpZ25CR0NvbG9ycyhzZXJpZXMsIGRlZmF1bHRQYXR0ZXJuKSk7XHJcbiAgICBkYXRhQ29tcHV0ZWQgPSBkYXRhQ29tcHV0ZWQubWFwKHNlcmllcyA9PiBhcHBseUJHQ29sb3JPdmVycmlkZXMoc2VyaWVzKSk7XHJcbiAgICBkYXRhQ29tcHV0ZWQgPSBkYXRhQ29tcHV0ZWQubWFwKHNlcmllcyA9PiBhc3NpZ25UZXh0Q29sb3JzKHNlcmllcywgZGVmYXVsdFBhdHRlcm4pKTtcclxuICAgIGRhdGFDb21wdXRlZCA9IGRhdGFDb21wdXRlZC5tYXAoc2VyaWVzID0+IGFwcGx5VGV4dENvbG9yT3ZlcnJpZGVzKHNlcmllcykpO1xyXG4gICAgZGF0YUNvbXB1dGVkID0gZGF0YUNvbXB1dGVkLm1hcChzZXJpZXMgPT4gdHJhbnNmb3JtVmFsdWUoc2VyaWVzLCBkZWZhdWx0UGF0dGVybikpO1xyXG4gICAgZGF0YUNvbXB1dGVkID0gZGF0YUNvbXB1dGVkLm1hcChzZXJpZXMgPT4gdHJhbnNmb3JtVmFsdWVPdmVycmlkZXMoc2VyaWVzKSk7XHJcbiAgICBkYXRhQ29tcHV0ZWQgPSBkYXRhQ29tcHV0ZWQubWFwKHNlcmllcyA9PiBhcHBseUZvbnRBd2Vzb21lSWNvbnMoc2VyaWVzKSk7XHJcbiAgICBkYXRhQ29tcHV0ZWQgPSBkYXRhQ29tcHV0ZWQubWFwKHNlcmllcyA9PiBhcHBseUltYWdlVHJhbnNmb3JtKHNlcmllcykpO1xyXG4gICAgZGF0YUNvbXB1dGVkID0gZGF0YUNvbXB1dGVkLm1hcChzZXJpZXMgPT4gYXNzaWduQ2xpY2thYmxlTGlua3Moc2VyaWVzKSk7XHJcbiAgICBkYXRhQ29tcHV0ZWQgPSBkYXRhQ29tcHV0ZWQubWFwKHNlcmllcyA9PiBhc3NpZ25Ub29sdGlwVGVtcGxhdGUoc2VyaWVzLCBkZWZhdWx0UGF0dGVybikpO1xyXG4gICAgcmV0dXJuIGRhdGFDb21wdXRlZDtcclxufTtcclxuZXhwb3J0IHtcclxuICAgIGNvbXB1dGUsXHJcbiAgICBkZWZhdWx0SGFuZGxlcixcclxuICAgIGFzc2lnblBhdHRlcm4sXHJcbiAgICBhc3NpZ25Sb3dOYW1lLFxyXG4gICAgYXNzaWduQ29sTmFtZSxcclxuICAgIGFzc2lnblJvd0NvbEtleSxcclxuICAgIGFzc2lnblRocmVzaG9sZHMsXHJcbiAgICBhc3NpZ25WYWx1ZSxcclxuICAgIGZpbHRlclZhbHVlcyxcclxuICAgIGNvbXB1dGVTZXJ2ZXJUaW1lc3RhbXAsXHJcbiAgICBhc3NpZ25EZWNpbWFscyxcclxuICAgIGFzc2lnbkJHQ29sb3JzLFxyXG4gICAgYXBwbHlCR0NvbG9yT3ZlcnJpZGVzLFxyXG4gICAgdHJhbnNmb3JtVmFsdWUsXHJcbiAgICB0cmFuc2Zvcm1WYWx1ZU92ZXJyaWRlcyxcclxuICAgIGFwcGx5Rm9udEF3ZXNvbWVJY29ucyxcclxuICAgIGFwcGx5SW1hZ2VUcmFuc2Zvcm0sXHJcbiAgICBhc3NpZ25DbGlja2FibGVMaW5rc1xyXG59O1xyXG4iXX0=